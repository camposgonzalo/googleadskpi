(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{66:function(t,e,s){"use strict";s.r(e);var r={props:["groups","campaigns","form","showButtons","currentUser"],data:function(){return{textarea:"",resource:"ads-request",records:[],errors:{},formRequest:{type:"Crear",level:"Anuncio",user_id:this.currentUser.id},showDraftButton:!0}},created:function(){},methods:{initForm:function(){this.form={}},saveDraft:function(){this.formRequest.state="Borrador",this.formRequest.request=JSON.stringify(this.form),this.saveAd()},savePending:function(){this.formRequest.state="Pendiente",this.saveAd()},saveAd:function(){var t=this;this.$http.post("/".concat(this.resource,"/ad"),this.form).then((function(e){t.formRequest.ad_id=e.data.record.id,t.initForm(),t.saveRequest(),t.$message({message:e.data.message,type:"success"})})).catch((function(e){t.errors=e.response.data.errors,t.$message.error("Sucedi칩 un error.")}))},saveRequest:function(){var t=this;this.$http.post("/".concat(this.resource),this.formRequest).then((function(e){t.$message({message:e.data.message,type:"success"})})).catch((function(e){console.log(e),t.$message.error("Sucedi칩 un error.")}))},updateTextArea:function(){this.textarea="".concat(this.form.title_one?this.form.title_one:""," ").concat(this.form.title_two?this.form.title_two:"","\n\n            ").concat(this.form.description?this.form.description:"","\n").concat(this.form.url?this.form.url:"")}}},o=s(1),a=Object(o.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{attrs:{autocomplete:"off"}},[s("fieldset",{staticClass:"border p-2"},[s("legend",{staticClass:"w-auto"},[t._v("\n            Vista Solicitud de anuncio\n        ")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group",class:{"has-danger":t.errors.title_one}},[t._m(0),t._v(" "),s("el-input",{attrs:{dusk:"title_one"},on:{change:t.updateTextArea},model:{value:t.form.title_one,callback:function(e){t.$set(t.form,"title_one",e)},expression:"form.title_one"}}),t._v(" "),t.errors.title_one?s("small",{staticClass:"form-control-feedback",domProps:{textContent:t._s(t.errors.title_one[0])}}):t._e()],1)]),t._v(" "),s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group",class:{"has-danger":t.errors.title_two}},[t._m(1),t._v(" "),s("el-input",{attrs:{dusk:"title_two"},on:{change:t.updateTextArea},model:{value:t.form.title_two,callback:function(e){t.$set(t.form,"title_two",e)},expression:"form.title_two"}}),t._v(" "),t.errors.title_two?s("small",{staticClass:"form-control-feedback",domProps:{textContent:t._s(t.errors.title_two[0])}}):t._e()],1)]),t._v(" "),s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group",class:{"has-danger":t.errors.description}},[t._m(2),t._v(" "),s("el-input",{attrs:{dusk:"description"},on:{change:t.updateTextArea},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),t._v(" "),t.errors.description?s("small",{staticClass:"form-control-feedback",domProps:{textContent:t._s(t.errors.description[0])}}):t._e()],1)]),t._v(" "),s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group",class:{"has-danger":t.errors.url}},[t._m(3),t._v(" "),s("el-input",{attrs:{dusk:"url"},on:{change:t.updateTextArea},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}}),t._v(" "),t.errors.url?s("small",{staticClass:"form-control-feedback",domProps:{textContent:t._s(t.errors.url[0])}}):t._e()],1)])]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("el-select",{attrs:{placeholder:"Grupo"},model:{value:t.form.group,callback:function(e){t.$set(t.form,"group",e)},expression:"form.group"}},t._l(t.groups,(function(t){return s("el-option",{key:t,attrs:{value:t}})})),1),t._v(" "),t.errors.group?s("small",{staticClass:"form-control-feedback",domProps:{textContent:t._s(t.errors.group[0])}}):t._e()],1),t._v(" "),s("div",{staticClass:"col-md-6"},[s("el-select",{attrs:{placeholder:"Campa침a"},model:{value:t.form.campaign,callback:function(e){t.$set(t.form,"campaign",e)},expression:"form.campaign"}},t._l(t.campaigns,(function(t){return s("el-option",{key:t,attrs:{value:t}})})),1),t._v(" "),t.errors.campaign?s("small",{staticClass:"form-control-feedback",domProps:{textContent:t._s(t.errors.campaign[0])}}):t._e()],1)])]),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"col-md-12"},[s("el-input",{attrs:{type:"textarea",rows:12,placeholder:"Please input"},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}})],1)]),t._v(" "),t.showButtons?s("div",{staticClass:"col-md-12",staticStyle:{display:"flex","justify-content":"flex-end"}},[t.showDraftButton?s("el-button",{on:{click:t.saveDraft}},[t._v("Guardar como borrador")]):t._e(),t._v(" "),s("el-button",{on:{click:t.savePending}},[t._v("Enviar solicitud")])],1):t._e()])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"control-label"},[this._v("Titulo 1"),e("span",{staticClass:"text-danger"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"control-label"},[this._v("Titulo 2"),e("span",{staticClass:"text-danger"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"control-label"},[this._v("Descripci칩n del anuncios"),e("span",{staticClass:"text-danger"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"control-label"},[this._v("Enlace"),e("span",{staticClass:"text-danger"},[this._v("*")])])}],!1,null,null,null);e.default=a.exports}}]);