(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{67:function(e,t,s){"use strict";s.r(t);var r={props:["type","groups","campaigns","form","showButtons","currentUser"],data:function(){return{keyword:"",keywords:[],formRequest:{type:"Crear",level:"Palabra ".concat(this.type),user_id:this.currentUser.id},resource:"ads-request",records:[],errors:{}}},created:function(){},methods:{addKeyword:function(){""!=this.keyword&&this.form.keyword.push(this.keyword),this.keyword=""},initForm:function(){this.form={keyword:[]},this.errors={},this.formRequest={type:"Crear",level:"Palabra ".concat(this.type),user_id:this.currentUser.id}},getRecords:function(){var e=this;this.$http.get("/".concat(this.resource,"/records")).then((function(t){e.records=t.data.data}))},saveDraft:function(){this.formRequest.state="Borrador",this.saveKeyword()},savePending:function(){this.formRequest.state="Pendiente",this.saveKeyword()},saveKeyword:function(){var e=this;this.form.type=this.type,this.form.keyword=JSON.stringify(this.form.keyword),this.formRequest.request=JSON.stringify(this.form),this.$http.post("/".concat(this.resource,"/keyword"),this.form).then((function(t){e.formRequest.keyword_id=t.data.record.id,e.saveRequest(),e.$message({message:t.data.message,type:"success"})})).catch((function(t){e.errors=t.response.data.errors,e.$message.error("Sucedió un error.")}))},saveRequest:function(){var e=this;this.$http.post("/".concat(this.resource),this.formRequest).then((function(t){e.initForm(),e.$message({message:t.data.message,type:"success"})})).catch((function(t){e.$message.error("Sucedió un error.")}))}}},o=s(1),a=Object(o.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",{attrs:{autocomplete:"off"}},[s("fieldset",{staticClass:"border p-2"},[s("legend",{staticClass:"w-auto"},[e._v("\n            Vista Solicitud de Palabras "+e._s(e.type)+"s\n        ")]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group",class:{"has-danger":e.errors.name}},[s("label",{staticClass:"control-label"},[e._v("Ingresar palabra "+e._s(e.type)),s("span",{staticClass:"text-danger"},[e._v("*")])]),e._v(" "),s("el-input",{staticClass:"input-with-select",attrs:{placeholder:"Please input"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-plus"},on:{click:e.addKeyword},slot:"append"})],1),e._v(" "),e.errors.keyword?s("small",{staticClass:"form-control-feedback",domProps:{textContent:e._s(e.errors.keyword[0])}}):e._e()],1)]),e._v(" "),e._l(e.form.keyword,(function(t,r){return s("div",{key:r,staticClass:"col-md-12"},[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:t},model:{value:e.form.keyword[r],callback:function(t){e.$set(e.form.keyword,r,t)},expression:"form.keyword[index]"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-delete"},on:{click:function(t){return e.form.keyword.splice(r,1)}},slot:"append"})],1)],1)}))],2),e._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("el-select",{attrs:{placeholder:"Grupo"},model:{value:e.form.group,callback:function(t){e.$set(e.form,"group",t)},expression:"form.group"}},e._l(e.groups,(function(e){return s("el-option",{key:e,attrs:{value:e}})})),1),e._v(" "),e.errors.group?s("small",{staticClass:"form-control-feedback",domProps:{textContent:e._s(e.errors.group[0])}}):e._e()],1),e._v(" "),s("div",{staticClass:"col-md-6"},[s("el-select",{attrs:{placeholder:"Campaña"},model:{value:e.form.campaign,callback:function(t){e.$set(e.form,"campaign",t)},expression:"form.campaign"}},e._l(e.campaigns,(function(e){return s("el-option",{key:e,attrs:{value:e}})})),1),e._v(" "),e.errors.campaign?s("small",{staticClass:"form-control-feedback",domProps:{textContent:e._s(e.errors.campaign[0])}}):e._e()],1)])])]),e._v(" "),e.showButtons?s("div",{staticClass:"col-md-12",staticStyle:{display:"flex","justify-content":"flex-end"}},[s("el-button",{on:{click:e.saveDraft}},[e._v("Guardar como borrador")]),e._v(" "),s("el-button",{on:{click:e.savePending}},[e._v("Enviar solicitud")])],1):e._e()])])])}),[],!1,null,null,null);t.default=a.exports}}]);